<html>
<head>
<meta charset="utf-8" />
<script type="text/javascript" src="../src/object.js"></script>
<script type="text/javascript" src="http://xnimg.cn/n/core/base-all.js"></script>
<script>

object.use('sys, XN, XN.browser, XN.env', function(exports, sys, XN) {
	console.log(arguments.length)
});

	object.add('test.a.b', function(exports) {
		this.name = 'test.a.b';
		console.log(this.__name__);
	});
    
	object.add('test.a', './b', function(exports, b) {
		this.name = 'test.a';
		console.log(this.__name__, b);
	});

	object.add('test', './a', function(exports, a) {
		this.name = 'test';
		console.log(this.__name__, a);
	});

	/*
	 * 应该输出
	 * a.b
	 * a
	 * __main__
	 */
	object.execute('test');

	// object.use('test, sys', function(exports, test, sys) {
	//	console.dir(sys.modules)
	// });

</script>
<script>
</script>
</head>
<body>

</body>
</html>

