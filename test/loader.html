<html>
<head>
<meta charset="utf-8" />
<script type="text/javascript" src="../pub/object.js"></script>
<!--<script type="text/javascript" src="http://xnimg.cn/n/core/base-all.js"></script>-->
<script>

	object.add('test2.c', function() {});

	object.add('test2', './c', function(exports, c) {
	});

	object.add('test.a.b.c', function(exports) {
		this.name = 'test.a.b.c';
		console.log(this.__name__);
	});

	object.add('test.b', function() {
	});
    
	object.add('test.a', 'test, ./b', function(exports, test) {
		setTimeout(function() {
			console.log(test.a)
		}, 0)
	});

	// object.add('test', './a, sys', function(exports, a, test2, sys) {
	// 	this.fuck = 2;
	// 	return {fuck:1}
	// });

	// object.use('test', function() {
	// });

	object.define('test', './a, sys', function(require, exports, module) {
		var a = require('./a');
		var sys = require('sys');
		require.async('./b, test', function(b, test) {
			setTimeout(function() {
			console.log(test)
			}, 1000)
		});
	});

	object.use('test', function(exports, test) {
	});

	/*
	 * 应该输出
	 * a.b
	 * a
	 * __main__
	 */
	// object.execute('test');

	// object.use('test, sys', function(exports, test, sys) {
	// 	console.dir(sys.modules)
	// });


</script>
<script>
</script>
</head>
<body>

</body>
</html>

